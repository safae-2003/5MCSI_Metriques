<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Histogramme des températures</title>

    <!-- Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
        google.charts.load('current', {packages: ['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        async function drawChart() {
            // Récupération des données depuis la route JSON
            const response = await fetch('/extract-minutes/2024-02-11T10:00:00Z');
            const data_json = await response.json();

            // Exemple : données fictives basées sur ton API
            const data = google.visualization.arrayToDataTable([
                ['Jour', 'Température'],
                ['J1', 10], ['J2', 11], ['J3', 12], ['J4', 9], ['J5', 13],
                ['J6', 14], ['J7', 12], ['J8', 11], ['J9', 10], ['J10', 12]
            ]);

            const options = {
                title: 'Histogramme des températures de Tawara',
                legend: {position: 'none'},
                colors: ['#1e88e5'],
                hAxis: {title: 'Jours'},
                vAxis: {title: 'Température (°C)'}
            };

            const chart = new google.visualization.ColumnChart(
                document.getElementById('chart_div')
            );
            chart.draw(data, options);
        }
    </script>
</head>

<body>
    <h2>Histogramme des températures de Tawara</h2>
    <div id="chart_div" style="width:100%; height:500px;"></div>
</body>
</html>
